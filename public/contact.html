<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Contact — Somali Eye Health Alliance</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">

  <style>
    /* -------------------------
       Theme tokens (light default)
       ------------------------- */
    :root{
      --bg: #f8fafc;
      --panel: #ffffff;
      --card: #ffffff;
      --text: #0b1220;
      --muted: #6b7280;
      --accent: #0f766e;
      --accent-strong: #0b6b63;
      --danger: #b91c1c;
      --input-bg: #ffffff;
      --input-border: #eef2f2;
      --surface-shadow: 0 6px 18px rgba(2,6,23,0.06);
      --card-radius: 10px;
      --focus-ring: rgba(45,212,191,0.22);
      --contrast-weak: rgba(11,17,32,0.06);
    }
  
    /* -------------------------
       Dark theme overrides
       ------------------------- */
    @media (prefers-color-scheme: dark) {
      :root{
        --bg: #06151a;
        --panel: #071e23;
        --card: #0b2630;
        --text: #e7f8f5;
        --muted: #9fb6b3;
        --accent: #29b59f;
        --accent-strong: #19a086;
        --danger: #ff8b8b;
        --input-bg: #071b20;
        --input-border: #153034;
        --surface-shadow: 0 8px 22px rgba(0,0,0,0.6);
        --card-radius: 10px;
        --focus-ring: rgba(29,189,164,0.12);
        --contrast-weak: rgba(255,255,255,0.03);
      }
    }
  
    /* apply general tokens */
    body { background: var(--bg); color: var(--text); }
  
    /* ------------------------------------------
       Existing layout + improved theme-aware styles
       (keeps all your original selectors unchanged)
       ------------------------------------------ */
  
    /* --- hero/title/admin/meta layout (desktop + mobile unified) --- */
    .title-row {
      display: flex;
      align-items: center;
      gap: 12px;
      width: 100%;
      justify-content: flex-start;
    }
  
    #contactTitle {
      margin: 0;
      font-size: 28px;
      line-height: 1.05;
      font-weight: 800;
      display: flex;
      align-items: center;
      gap: 8px;
      flex: 1 1 auto;
      min-width: 0;
      white-space: normal;
      word-break: normal;
      overflow-wrap: break-word;
      color: var(--text);
    }
  
    /* ensure the admin button sits at the right edge of the title row */
    #titleActions {
      margin-left: auto;
      display: flex;
      align-items: center;
      gap: 8px;
      flex: 0 0 auto;
    }
  
    /* admin button visuals */
    #adminContactsBtn{
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: linear-gradient(180deg, var(--card), var(--card));
      border: 1px solid var(--input-border);
      color: var(--accent-strong);
      padding: 8px 12px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 700;
      font-size: 14px;
      min-height: 38px;
      box-shadow: var(--surface-shadow);
    }
    #adminContactsBtn .count{
      background: rgba(15,118,110,0.08);
      padding:4px 8px;
      border-radius:999px;
      font-weight:800;
      font-size:13px;
    }
    #adminContactsBtn .icon-only{ display:none; width:18px; height:18px; }
  
    /* compact on narrow screens */
    @media (max-width: 720px) {
      #contactTitle { font-size: 22px; }
      #adminContactsBtn { padding: 8px; gap: 6px; font-size: 13px; min-width: 44px; justify-content: center; }
      #adminContactsBtn .label { display: none; }       /* hide text label on small screens */
      #adminContactsBtn .icon-only { display: inline-block; } /* show compact icon */
    }
    @media (max-width: 420px) {
      #contactTitle { font-size: 20px; }
      #adminContactsBtn { padding: 6px; border-radius: 10px; min-width: 40px; }
      #adminContactsBtn .count { padding: 3px 6px; font-size: 12px; }
    }
  
    /* ---- FORCE: intro text (muted) ALWAYS on its own row,
             and the address/email block ALWAYS stacked beneath it ---- */
    .hero-title { display: flex; flex-direction: column; gap: 10px; }
  
    .hero-title .muted {
      width: 100%;
      display: block;
      margin: 0;
      color: var(--muted);
      line-height: 1.45;
    }
  
    /* hero-meta becomes a vertical block (each meta-item on its own line) */
    .hero-meta {
      display: block;
      width: 100%;
      margin-top: 12px;
      padding-top: 0;
    }
  
    /* each meta-item takes the full width and stacks vertically */
    .hero-meta .meta-item {
      display: flex;
      gap: 8px;
      align-items: flex-start;
      width: 100%;
      margin-top: 8px;
      min-width: 0;
    }
  
    /* force the label/value inside meta-item to be block-level so
       "Email" label and its email address appear on separate lines */
    .hero-meta .meta-item > div { display: block; min-width: 0; }
    .hero-meta .meta-item > div strong { display: block; margin-bottom: 4px; color: var(--text); }
    .hero-meta .meta-item > div .small-muted { display: block; color: var(--muted); }
  
    /* icon sizing */
    .hero-meta .meta-item svg { flex: 0 0 auto; width: 18px; height: 18px; fill: var(--accent); }
  
    /* tiny screens tweaks */
    @media (max-width: 360px) {
      .title-row { gap: 8px; }
      .hero-meta .meta-item { margin-top: 10px; }
      #contactTitle { font-size: 20px; }
    }
  
    /* NEW: map card styling (responsive) */
    .map-card {
      margin-top: 12px;
      border-radius: var(--card-radius);
      overflow: hidden;
      border: 1px solid var(--input-border);
      box-shadow: var(--surface-shadow);
      background: linear-gradient(180deg, var(--card), var(--card));
    }
    .map-card a { display: block; text-decoration: none; color: inherit; }
    .map-card img { width: 100%; height: auto; display: block; object-fit: cover; background: var(--contrast-weak); }
  
    /* small caption under map */
    .map-caption { padding: 10px 12px; background: transparent; font-size: 14px; color: var(--muted); }
  
    /* Form inputs and controls (theme aware) */
    .input, input[type="text"], input[type="email"], textarea {
      background: var(--input-bg);
      color: var(--text);
      border: 1px solid var(--input-border);
      padding: 10px 12px;
      border-radius: 8px;
      box-shadow: none;
      outline: none;
      transition: box-shadow .12s ease, border-color .12s ease, transform .08s ease;
    }
    .input::placeholder { color: rgba(0,0,0,0.35); }
    @media (prefers-color-scheme: dark) {
      .input::placeholder { color: rgba(255,255,255,0.24); }
    }
    .input:focus {
      box-shadow: 0 0 0 4px var(--focus-ring);
      border-color: var(--accent);
    }
  
    /* Buttons */
    .btn {
      border-radius: 10px;
      padding: 8px 12px;
      font-weight: 700;
      cursor: pointer;
      border: 0;
      background: linear-gradient(180deg, var(--card), var(--card));
      color: var(--text);
      border: 1px solid var(--input-border);
      box-shadow: var(--surface-shadow);
    }
    .btn.primary {
      background: linear-gradient(180deg, var(--accent), var(--accent-strong));
      color: #fff;
      border: 0;
    }
    .btn.light {
      background: transparent;
      border: 1px solid var(--input-border);
      color: var(--text);
    }
    .btn:focus { outline: 3px solid var(--focus-ring); outline-offset: 3px; }
  
    /* Inline error messages */
    .inline-error { color: var(--danger); display:none; margin-top:6px; font-size:13px; font-weight:600; }
  
    /* Collapsible / FAQ styles (new) */
    .collapsible-toggle {
      display:inline-flex;
      align-items:center;
      gap:10px;
      background: linear-gradient(180deg, var(--card), var(--card));
      border: 1px solid var(--input-border);
      padding: 8px 12px;
      border-radius: 10px;
      cursor: pointer;
      font-weight:700;
      color: var(--text);
      box-shadow: var(--surface-shadow);
    }
    .collapse-content { display:none; margin-top:12px; color: var(--muted); }
    .collapse-content.open { display:block; }
  
    .faq-item { border-top:1px solid var(--input-border); padding:8px 0; }
    .faq-question {
      display:flex; justify-content:space-between; align-items:center; width:100%;
      background:transparent; border:0; padding:8px 0; text-align:left; cursor:pointer; font-weight:700;
      color: var(--text);
    }
    .faq-answer { display:none; margin-top:6px; color: var(--muted); }
    .faq-answer.open { display:block; }
  
    .faq-question .chev { transition: transform .18s ease; color: var(--accent); }
    .faq-question[aria-expanded="true"] .chev { transform: rotate(90deg); }
  
    /* small responsive tweak */
    @media (max-width:720px) {
      .map-caption { font-size: 13px; }
    }
  
    /* Back-to-top button */
    .seha-back-to-top { background: var(--accent); color: #fff; box-shadow: 0 10px 30px rgba(0,0,0,0.22); }
  
    /* Footer */
    .site-footer { color: var(--muted); }
  
    /* Accessibility helpers */
    button:focus, a:focus, .faq-question:focus {
      outline: 3px solid var(--focus-ring);
      outline-offset: 3px;
    }
  
    /* Input invalid state */
    input[aria-invalid="true"], textarea[aria-invalid="true"] {
      border-color: var(--danger);
      box-shadow: 0 0 0 4px rgba(185,28,28,0.08);
    }
  </style>
  

  <script>
document.addEventListener('DOMContentLoaded', () => {
  // 1) Keep your current "active" detection but update to also add 'active' class for styling
  const current = window.location.pathname.split("/").pop() || 'index.html';
  document.querySelectorAll(".main-nav a").forEach(a => {
    const href = a.getAttribute("href");
    if (href === current || (href === 'index.html' && current === '')) {
      a.classList.add("active");
    } else {
      a.classList.remove("active");
    }
  });

  // 2) Mobile menu toggle
  const hambBtn = document.getElementById('hambBtn');
  const mobileMenu = document.getElementById('mobileMenu');
  if (hambBtn && mobileMenu) {
    hambBtn.addEventListener('click', () => {
      const open = hambBtn.getAttribute('aria-expanded') === 'true';
      hambBtn.setAttribute('aria-expanded', String(!open));
      mobileMenu.setAttribute('aria-hidden', String(open));
      if (!open) {
        mobileMenu.style.display = 'block';
        // populate mobile menu if empty (clone)
        if (!mobileMenu.innerHTML.trim()) {
          const clone = document.querySelector('.main-nav .nav-list').cloneNode(true);
          // simplify clone for mobile (remove desktop-only popovers)
          clone.querySelectorAll('.nav-subtitle').forEach(n => n.remove());
          mobileMenu.appendChild(clone);
        }
      } else {
        mobileMenu.style.display = 'none';
      }
      hambBtn.focus();
    });
    // close mobile menu when clicking outside
    document.addEventListener('click', (e) => {
      if (!mobileMenu.contains(e.target) && !hambBtn.contains(e.target)) {
        hambBtn.setAttribute('aria-expanded','false');
        mobileMenu.setAttribute('aria-hidden','true');
        mobileMenu.style.display = 'none';
      }
    });
  }

  // 3) Move focusable state to show current nav for keyboard users
  document.querySelectorAll('.nav-list a').forEach(a => {
    a.addEventListener('focus', () => {
      a.classList.add('focus-visible');
    });
    a.addEventListener('blur', () => {
      a.classList.remove('focus-visible');
    });
  });

  // 4) optional: ensure donate sits flush at right visually by making header-inner full width
  // (handled in CSS - nothing to do here)
});

    </script>
<!-- START: Back-to-top small styles (optional: move into style.css) -->
<style>
  /* Floating "back to top" button */
  .seha-back-to-top {
    position: fixed;
    right: 20px;
    bottom: 24px;
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: var(--primary);
    color: #fff;
    box-shadow: 0 10px 30px rgba(2,6,23,0.12);
    cursor: pointer;
    z-index: 1600;
    opacity: 0;
    pointer-events: none;
    transform: translateY(8px);
    transition: opacity .18s ease, transform .18s ease;
    border: 0;
  }

  .seha-back-to-top.show {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0);
  }

  /* focus / keyboard visibility */
  .seha-back-to-top:focus {
    outline: 3px solid rgba(45,212,191,0.22);
    outline-offset: 4px;
  }

  /* inner svg */
  .seha-back-to-top svg { width: 20px; height: 20px; display:block; }

  /* small responsive tweak so it doesn't overlap on very small screens */
  @media (max-width: 420px) {
    .seha-back-to-top { right: 12px; bottom: 16px; width:44px; height:44px; border-radius:10px; }
  }

  /* optional: hide if user prefers reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .seha-back-to-top { transition: none; }
    html { scroll-behavior: auto; }
  }
  /* === Small/tight desktop header patch — only layout + sizing === */
/* Apply only on desktop so mobile/menu/toggles are untouched */
@media (min-width: 981px) {

/* tighten header row and flush container edges */
.site-header { padding: 0; }
.container.header-inner { padding: 0 6px; max-width: var(--container); }

/* reduce overall header height and gaps */
.header-inner {
height: 52px;            /* slightly shorter */
gap: 8px;
padding: 0;
align-items: center;
}

/* branding: smaller logo and reduced text sizes */
.brand { gap: 8px; min-width: 0; }
.brand .logo { width: 34px; height: 34px; border-radius: 6px; }
.brand-text .org-name {
font-size: 11px;         /* smaller title */
font-weight: 700;
line-height: 1;
white-space: nowrap;
text-overflow: ellipsis;
overflow: hidden;
}
.brand-text .tagline {
font-size: 10px;         /* smaller tagline */
margin: 0;
opacity: 0.9;
}

/* navigation: smaller font, tighter padding and smaller gap */
.main-nav { flex: 1 1 auto; min-width: 0; }
.main-nav .nav-list {
gap: 6px;                /* tighter gap between menu items */
padding: 0 6px;
}
.main-nav a {
font-size: 12px;         /* smaller nav text */
padding: 6px 8px;        /* tighter clickable area */
border-radius: 6px;
font-weight: 700;
}

/* reduce the hover transform so it looks subtle on small header */
.main-nav a:hover, .main-nav a:focus {
transform: translateY(-1px);
background: rgba(15,118,110,0.04);
}

/* ensure desktop popovers still position correctly (no clipping) */
.nav-item { position: relative; }
.nav-subtitle {
left: 50%;
transform: translateX(-50%) translateY(6px);
top: calc(100% + 6px);
min-width: 180px;
z-index: 2500;
}
}

/* Keep mobile rules exactly as before (no changes) */
@media (max-width: 980px) {
/* nothing here — mobile behavior unchanged */
}

/* === ACTIVE NAVIGATION HIGHLIGHT === */
@media (min-width: 981px) {
.main-nav a.active {
  background: var(--primary-light, rgba(15,118,110,0.10));
  color: var(--primary, #0f766e);
  transform: none;       /* don't move up when active */
}

/* optional: keep hover consistent */
.main-nav a.active:hover {
  background: var(--primary-light, rgba(15,118,110,0.12));
  color: var(--primary, #0f766e);
}
}

</style>
<!-- END: Back-to-top styles -->
</head>
<body>
     <!-- HEADER -->
<header class="site-header" role="banner">
  
  <!-- small, safe header-local CSS to avoid duplicate arrows & show mobile toggle only on small screens -->
  <style>
    /* If your global CSS also sets .nav-item.has-sub > a::after, override here so we don't get double arrows */
    .nav-item.has-sub > a::after { content: ''; }

    /* mobile-only helper: hide by default (desktop) and show only under your mobile breakpoint */
    .mobile-only { display: none; align-items: center; gap: 8px; }
    @media (max-width: 880px) {
      .mobile-only { display: flex; }
      /* ensure desktop popover remains visible on hover as before */
      .nav-item.has-sub > .nav-subtitle { display: none; }
      .nav-item.has-sub:hover > .nav-subtitle,
      .nav-item.has-sub:focus-within > .nav-subtitle { display: block; }
    }
  </style>

  <div class="container header-inner">
    <div class="brand">
      <img src="images/logo.png" alt="SEHA logo" class="logo" />
      <div class="brand-text">
        <h1 class="org-name">Somali Eye Health Alliance</h1>
        <p class="tagline">Saving sight • Building local capacity</p>
      </div>
    </div>

    <nav class="main-nav" role="navigation" aria-label="Main Navigation">
      <ul class="nav-list">
        <li class="nav-item"><a href="index.html">Home</a></li>

        <li class="nav-item has-sub" id="nav-about">
          <a href="about.html" aria-haspopup="true" aria-expanded="false">About Us ▾</a>

          <!-- desktop popover -->
          <div class="nav-subtitle" role="dialog" aria-hidden="true" aria-labelledby="about-subtitle">
            <ul class="subtitle-list">
              <li><a href="about.html#who" class="subtitle-link">Who we are</a></li>
              <li><a href="about.html#what-we-do" class="subtitle-link">What we do</a></li>
              <li><a href="about.html#framework" class="subtitle-link">Operational framework</a></li>
              <li><a href="about.html#team" class="subtitle-link">Our team & governance</a></li>
            </ul>
          </div>

          <!-- mobile submenu (kept for hamburger) -->
          <ul class="sub" aria-label="About submenu">
            <li><a href="about.html#who">Who we are</a></li>
            <li><a href="about.html#what-we-do">What we do</a></li>
            <li><a href="about.html#framework">Operational framework</a></li>
            <li><a href="about.html#team">Our team & governance</a></li>
          </ul>
        </li>

        <li class="nav-item has-sub" id="nav-ourwork">
          <a href="our-work.html" aria-haspopup="true" aria-expanded="false">Our Work ▾</a>

          <div class="nav-subtitle" role="dialog" aria-hidden="true" aria-labelledby="ourwork-subtitle">
            <ul class="subtitle-list">
              <li><a href="programs.html" class="subtitle-link">Core programs</a></li>
              <li><a href="our-work.html#consortia" class="subtitle-link">Clinical consortia</a></li>
              <li><a href="our-work.html#regions" class="subtitle-link">Regional activity</a></li>
              <li><a href="our-work.html#impact" class="subtitle-link">Impact & results</a></li>
            </ul>
          </div>

          <ul class="sub" aria-label="Our Work submenu">
            <li><a href="programs.html">Programs</a></li>
            <li><a href="our-work.html#consortia">Consortia</a></li>
            <li><a href="our-work.html#regions">Regions</a></li>
          </ul>
        </li>

        <li class="nav-item"><a href="programs.html">Programs</a></li>
        <li class="nav-item"><a href="membership.html">Membership</a></li>
        <li class="nav-item"><a href="partnership.html">Partnership</a></li>

        <li class="nav-item"><a href="resources.html">Resources</a></li>
        <li class="nav-item"><a href="events.html">Events & Blogs</a></li>
        <!-- <li class="nav-item"><a href="opportunities.html">Opportunities</a></li> -->
        <li class="nav-item"><a href="awareness.html">Awareness</a></li>
        <li class="nav-item"><a href="contact.html">Contact</a></li>

        <!-- SETTINGS (single desktop link + mobile-only toggle + mobile submenu)
             - Desktop: user sees the "Settings" anchor and the .nav-subtitle popover on hover/focus
             - Mobile: the .mobile-only toggle (plus symbol) is shown and toggles the submenu;
               the mobile-only element is hidden on desktop so you do not get two visible "Settings" -->
        <li class="nav-item has-sub" id="nav-settings">
          <!-- Desktop link (visible on all widths) -->
          <!-- <a href="settings.html" aria-haspopup="true" aria-expanded="false" id="settingsDesktopLink">Settings ▾</a> -->
          <a href="settings.html" aria-haspopup="true" aria-expanded="false">Settings ▾</a>


          <!-- desktop popover -->
          <div class="nav-subtitle" role="dialog" aria-hidden="true" aria-labelledby="settings-subtitle">
            <ul class="subtitle-list">
              <li><a href="settings.html#account">Account settings</a></li>
              <li><a href="settings.html#privacy">Privacy & security</a></li>
              <li><a href="settings.html#appearance">Appearance</a></li>
            </ul>
          </div>

          <!-- Mobile-only toggle: hidden on desktop by .mobile-only rule above
          <a href="#" class="mobile-toggle mobile-only" data-target="settingsSub" aria-controls="settingsSub" aria-expanded="false" id="settingsMobileToggle" style="justify-content:space-between;width:100%;padding:6px 0;">
            <span>Settings</span>
            <span class="toggle-symbol" aria-hidden="true">+</span>
          </a> -->

          <!-- mobile submenu -->
          <ul class="sub mobile-sub" id="settingsSub" aria-hidden="true">
            <li><a href="settings.html#account">Account settings</a></li>
            <li><a href="settings.html#privacy">Privacy & security</a></li>
            <li><a href="settings.html#appearance">Appearance</a></li>
          </ul>
        </li>
        <!-- /SETTINGS -->

      </ul>
    </nav>

    <div class="header-cta">
      <a class="btn donate" id="donateBtn" href="donate.html" title="Donate">Donate</a>
      <button class="hamb" id="hambBtn" aria-expanded="false" aria-controls="mobileMenu" aria-label="Open menu">☰</button>
    </div>
  </div>

  <div class="mobile-menu" id="mobileMenu" aria-hidden="true"></div>
</header>
    
<!-- HERO / Title -->
<div class="container">
  <section class="hero contact-hero" aria-labelledby="contactTitle">
    <div class="hero-title">
      <div class="title-row">
        <h1 id="contactTitle" aria-level="1" style="display:flex;align-items:center;gap:8px">
          <svg class="icon" width="26" height="26" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path fill="#0f766e" d="M2 12c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12z"/>
          </svg>
          Contact Us
        </h1>

        <!-- admin button placeholder -->
        <div id="titleActions" aria-hidden="false"></div>
      </div>

      <div class="intro muted">Questions, partnerships and volunteering enquiries — send us a message and we'll reply shortly.</div>
    </div>

    <!-- ADDRESS/EMAIL block -->
    <div class="hero-meta" aria-hidden="false">
      <div class="meta-item" aria-hidden="false">
        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path fill="#0f766e" d="M12 2L2 7v7c0 5 4 9 10 9s10-4 10-9V7l-10-5z"/></svg>
        <div class="meta-text">
          <strong>Office: Mogadishu</strong>
          <div class="small-muted">Mon–Fri, 09:00–17:00</div>
        </div>
      </div>

      <div class="meta-item" aria-hidden="false">
        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path fill="#0f766e" d="M2 3h20v18H2z"/></svg>
        <div class="meta-text">
          <strong>Email</strong>
          <div class="small-muted">
            <a href="mailto:info@somalieyehealthalliance.org?subject=Contact%20from%20Website" target="_blank" rel="noopener">info@somalieyehealthalliance.org</a>
          </div>
        </div>
      </div>

      <div class="meta-item" aria-hidden="false">
        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path fill="#0f766e" d="M21 16.5a3.5 3.5 0 0 1-3.5 3.5h-11A3.5 3.5 0 0 1 3 16.5V7A3.5 3.5 0 0 1 6.5 3.5h11A3.5 3.5 0 0 1 21 7v9.5z"/></svg>
        <div class="meta-text">
          <strong>Phone & WhatsApp</strong>
          <div class="small-muted">
            <a href="https://wa.me/252617000264?text=Hello%20SEHA%2C%20I%27d%20like%20to%20ask%20about%20your%20services" target="_blank" rel="noopener">+252 61 7000 264 — message us on WhatsApp</a>
          </div>
        </div>
      </div>

      <!-- MAP -->
      <div class="map-card" role="region" aria-label="Our location map">
        <a href="https://www.google.com/maps/search/?api=1&query=Towfiiq+Hotel+Yaaqshiid+Mogadishu+Somalia" target="_blank" rel="noopener" aria-label="Open our location in Google Maps (Towfiiq Hotel, Yaaqshiid, Mogadishu)">
          <img src="images/towfiiq.png" alt="Map: Towfiiq Hotel, Yaaqshiid, Mogadishu — click to open in Google Maps" />
          <div class="map-caption">
            Our desk — Towfiiq Hotel (Yaaqshiid), Mogadishu. Click the map to open in Google Maps for directions and contact details.
          </div>
        </a>
      </div>
    </div>
  </section>
</div>

<!-- MAIN FORM -->
<div class="container" style="margin-top:16px">
  <div class="card" aria-labelledby="contactTitle">
    <form id="contactForm" novalidate>
      <div style="display:flex;gap:10px;flex-wrap:wrap">
        <div style="flex:1;min-width:160px">
          <label for="name">Full name</label>
          <input id="name" name="name" class="input" placeholder="Your full name" autocomplete="name">
        </div>

        <div style="flex:1;min-width:200px">
          <label for="email">Email <span style="color:var(--danger)">*</span></label>
          <input id="email" type="email" name="email" class="input" placeholder="you@example.com" required autocomplete="email">
          <div class="inline-error" id="err-email">Please enter a valid email address.</div>
        </div>
      </div>

      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
        <div style="flex:1;min-width:160px">
          <label for="phone">Phone</label>
          <input id="phone" name="phone" class="input" placeholder="+252 61 7000xxx" autocomplete="tel">
          <div class="inline-error" id="err-phone">Phone number looks invalid (optional).</div>
        </div>

        <div style="flex:1;min-width:200px">
          <label for="subject">Subject <span style="color:var(--danger)">*</span></label>
          <input id="subject" name="subject" class="input" placeholder="Short subject" required>
          <div class="inline-error" id="err-subject">Subject required.</div>
        </div>
      </div>

      <div style="margin-top:12px">
        <label for="message">Message <span style="color:var(--danger)">*</span></label>
        <textarea id="message" name="message" class="input" placeholder="Write your message..." required></textarea>
        <div class="inline-error" id="err-message">Please write a short message (min 10 chars).</div>
      </div>

      <div style="margin-top:12px;display:flex;gap:10px;align-items:center">
        <button class="btn" id="submitBtn" type="submit">
          <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path fill="#fff" d="M2 21l20-9L2 3v7l14 2-14 2v7z"/></svg>
          <span>Send message</span>
        </button>
        <button type="button" id="clearBtn" class="btn light">Clear</button>
        <div id="formStatus" class="muted" aria-live="polite"></div>
      </div>
    </form>
  </div>
</div>

<!-- NEW: Visit (collapsible) and FAQ (accordion) -->
<div class="container" style="margin-top:18px; margin-bottom:18px;">
  <!-- Visit & Directions (collapsed by default) -->
  <div class="card" style="padding:16px; border-radius:10px; box-shadow:0 6px 18px rgba(2,6,23,0.04);">
    <div style="display:flex;align-items:center;justify-content:space-between;gap:12px">
      <h3 style="margin:0">Visit & Directions</h3>
      <button class="collapsible-toggle" id="visitToggle" aria-expanded="false" aria-controls="visitCollapse">
        <span class="label">Show directions</span>
        <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path fill="#0f766e" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/></svg>
      </button>
    </div>

    <div id="visitCollapse" class="collapse-content" role="region" aria-hidden="true">
      <p class="muted" style="margin-top:12px">Our office works with partner clinics and occasional outreach locations across Mogadishu. The reception desk is at <strong>Towfiiq Hotel, Yaaqshiid</strong>. For most visitors we recommend calling or messaging ahead via WhatsApp to confirm an appointment and desk hours.</p>
      <ul style="margin:8px 0 0 18px">
        <li><strong>Address:</strong> Towfiiq Hotel, Yaaqshiid, Mogadishu, Somalia</li>
        <li><strong>Reception hours:</strong> Mon–Fri, 09:00–17:00</li>
        <li><strong>Getting here:</strong> Taxis are the most common local transport. Open Google Maps from the map above for turn-by-turn directions.</li>
        <li><strong>Parking:</strong> Limited street / hotel parking. If arriving by car, contact us via WhatsApp so we can advise on safe parking nearby.</li>
      </ul>
    </div>
  </div>

  <!-- FAQ accordion - questions only show initially -->
  <div class="card" style="padding:16px; border-radius:10px; box-shadow:0 6px 18px rgba(2,6,23,0.04); margin-top:12px;">
    <h3 style="margin-top:0">Frequently asked</h3>
    <div id="faqList" style="margin-top:8px">
      <!-- FAQ item 1 -->
      <div class="faq-item">
        <button class="faq-question" aria-expanded="false" aria-controls="fa1">
          <span>How long until I get a reply?</span>
          <span class="chev" aria-hidden="true">›</span>
        </button>
        <div id="fa1" class="faq-answer" role="region" aria-hidden="true">
          <p class="muted">We aim to reply to enquiries within 2 business days. For urgent clinical issues please include "URGENT" in the subject or contact local emergency services.</p>
        </div>
      </div>

      <!-- FAQ item 2 -->
      <div class="faq-item">
        <button class="faq-question" aria-expanded="false" aria-controls="fa2">
          <span>Do you provide direct clinical services?</span>
          <span class="chev" aria-hidden="true">›</span>
        </button>
        <div id="fa2" class="faq-answer" role="region" aria-hidden="true">
          <p class="muted">SEHA supports clinical partners and training programs. For direct patient care, we'll direct you to the closest partner clinic or outreach schedule.</p>
        </div>
      </div>

      <!-- FAQ item 3 -->
      <div class="faq-item">
        <button class="faq-question" aria-expanded="false" aria-controls="fa3">
          <span>How can I volunteer or partner?</span>
          <span class="chev" aria-hidden="true">›</span>
        </button>
        <div id="fa3" class="faq-answer" role="region" aria-hidden="true">
          <p class="muted">Use the form above and select "Partnership" in the subject — include your experience, organisation and proposed support. We'll respond with next steps.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Response times & privacy (left as-is) -->
  <div class="card" style="padding:16px; border-radius:10px; box-shadow:0 6px 18px rgba(2,6,23,0.04); margin-top:12px;">
    <h3 style="margin-top:0">Response times & privacy</h3>
    <p class="muted">We treat all contact data confidentially. By sending a message you consent to SEHA contacting you by email or phone to respond. We do not share personal contact details with third parties except to deliver services where required (e.g. arranging clinic appointments) and always under appropriate data protection practice.</p>
    <p class="muted"><strong>Records & retention:</strong> contact messages may be retained for a period required to support ongoing communication and monitoring (typically up to 2 years). If you request removal of your message, please contact us and we will respond with the appropriate next steps.</p>
  </div>
</div>

  <!-- FOOTER -->
  <footer class="site-footer" role="contentinfo">
    <div class="container footer-inner">
      <div class="footer-col">
        <img src="images/logo.png" alt="SEHA logo" class="footer-logo">
        <p class="muted">© 2026 Somali Eye Health Alliance — All Rights Reserved <a href="developers-contact.html">Developers</a></p>
      </div>

      <div class="footer-col">
        <h4>Quick links</h4>
        <ul class="small-list footer-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About Us</a></li>
          <li><a href="programs.html">Programs</a></li>
          <li><a href="resources.html">Resources</a></li>
          <li><a href="membership.html">Membership</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Contact</h4>
        <address class="muted">
          Mogadishu, Somalia<br>
          info@Somalieyehealthalliance.org <br>
          +252 61 7000264
                </address>
      </div>
    </div>
  </footer>

<!-- Back-to-top button -->
<button id="backToTop" class="seha-back-to-top" aria-label="Back to top" title="Back to top">
  <svg viewBox="0 0 24 24" fill="none"><path d="M6 15l6-6 6 6" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
</button>

<!-- Your JS (keeps behavior: admin badge insertion, socket updates, form submit). -->
<script>
(function(){
  const API_BASE = (location.hostname === 'localhost' || location.hostname === '127.0.0.1')
  ? 'http://localhost:4000'
  : 'https://somali-eye-health-alliance-biaj.onrender.com';
const token = localStorage.getItem('seha_token');

  // Highlight nav active (if you have a dedicated link id)
  try {
    const navLink = document.getElementById('navContactLink');
    if (navLink) navLink.classList.add('active');
  } catch(e){}

  // Insert admin button next to title if admin token present and valid
  async function maybeInsertAdminBtn() {
    if (!token) return;
    try {
      const res = await fetch((API_BASE || '') + '/api/contact/admin/list?limit=1', {
        headers: { 'Authorization': 'Bearer ' + token, 'Content-Type': 'application/json' }
      });
      if (!res.ok) return; // not authorized or invalid token
      const json = await res.json().catch(()=>null);
      const total = (json && json.total) ? json.total : 0;

      // build button (icon + label; label hidden by CSS on small screens)
      const el = document.createElement('button');
      el.id = 'adminContactsBtn';
      el.type = 'button';
      el.setAttribute('aria-label', `Open contacts inbox. ${total} total messages`);
      el.innerHTML = `
        <svg class="icon-only" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" focusable="false" style="display:block">
          <path fill="#0b6b63" d="M12 2a7 7 0 0 0-7 7v4l-3 3v1h20v-1l-3-3V9a7 7 0 0 0-7-7zM8 18H6v-2h2v2zm8 0h-2v-2h2v2z"/>
        </svg>
        <span class="label">Contacts</span>
        <span class="count" aria-hidden="true">${total}</span>
      `;
      el.title = 'Open contacts inbox (admin)';
      el.addEventListener('click', ()=> {
        const target = (location.pathname.startsWith('/admin') ? 'contact-admin.html' : 'admin/contact-admin.html');
        window.location.href = target;
      });

      // append to the titleActions container (which is placed to the right)
      const actions = document.getElementById('titleActions');
      if (actions) actions.appendChild(el);

      // realtime badge update via socket (lazy load socket.io client if needed)
      loadSocketAndUpdateBadge(el);
    } catch (e) {
      console.warn('admin btn init failed', e);
    }
  }

  function loadSocketAndUpdateBadge(btnEl) {
    if (!window.io) {
      const s = document.createElement('script');
      s.src = (API_BASE ? (API_BASE + '/socket.io/socket.io.js') : '') || 'https://cdn.socket.io/4.6.1/socket.io.min.js';
      s.onload = () => loadSocketAndUpdateBadge(btnEl);
      s.onerror = ()=> console.warn('socket load failed');
      document.head.appendChild(s);
      return;
    }
    try {
      const socket = io(API_BASE || '/', { auth: { token }, transports: ['websocket','polling'] });
      socket.on('connect', ()=> socket.emit('identify', { role: 'admin' }));
      socket.on('contacts.new', (d) => {
        const span = btnEl.querySelector('.count');
        if (!span) return;
        if (d && typeof d.total === 'number') {
          span.textContent = d.total;
          btnEl.setAttribute('aria-label', `Open contacts inbox. ${d.total} total messages`);
        } else {
          span.textContent = (parseInt(span.textContent||'0') + 1);
        }
      });
      socket.on('disconnect', ()=> console.warn('socket disconnected'));
    } catch(e){ console.warn('socket init err', e); }
  }

  maybeInsertAdminBtn();

  // Form handling (unchanged)
  const form = document.getElementById('contactForm');
  const fName = document.getElementById('name');
  const fEmail = document.getElementById('email');
  const fPhone = document.getElementById('phone');
  const fSubject = document.getElementById('subject');
  const fMessage = document.getElementById('message');
  const status = document.getElementById('formStatus');
  const submitBtn = document.getElementById('submitBtn');

  function setStatus(txt, ok=true){ status.textContent = txt || ''; status.style.color = ok ? '#0f766e' : '#b91c1c'; }
  function resetErrors(){ document.querySelectorAll('.inline-error').forEach(e=>e.style.display='none'); }
  function validate(){
    resetErrors();
    let ok=true;
    const emailVal = (fEmail.value||'').trim();
    if (!emailVal || !/^\S+@\S+\.\S+$/.test(emailVal)){ document.getElementById('err-email').style.display='block'; ok=false; }
    const phoneVal = (fPhone.value||'').trim();
    if (phoneVal && !/^[\d+\-\s()]{6,20}$/.test(phoneVal)) { document.getElementById('err-phone').style.display='block'; ok=false; }
    if (!fSubject.value.trim()){ document.getElementById('err-subject').style.display='block'; ok=false; }
    if (!fMessage.value.trim() || fMessage.value.trim().length < 10){ document.getElementById('err-message').style.display='block'; ok=false; }
    return ok;
  }

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    if (!validate()){ setStatus('Please fix the highlighted fields.', false); return; }
    setStatus('Sending…', true);
    submitBtn.disabled = true;
    const payload = {
      name: fName.value.trim() || null,
      email: fEmail.value.trim(),
      phone: fPhone.value.trim() || null,
      subject: fSubject.value.trim(),
      message: fMessage.value.trim(),
      source: 'site-contact'
    };
    try {
      const res = await fetch((API_BASE || '') + '/api/contact', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      });
      const json = await res.json().catch(()=>null);
      if (!res.ok) {
        setStatus((json && json.message) ? json.message : 'Failed to send message', false);
        submitBtn.disabled = false;
        return;
      }
      setStatus('Message sent — thank you! We will reply soon.', true);
      form.reset();
      setTimeout(()=> setStatus(''), 6000);
    } catch (err) {
      console.error(err);
      setStatus('Network error — please try again later', false);
    } finally { submitBtn.disabled = false; }
  });

  document.getElementById('clearBtn').addEventListener('click', ()=> { form.reset(); resetErrors(); setStatus(''); });

  // blur validation
  [fEmail,fPhone,fSubject,fMessage].forEach(el=> el.addEventListener('blur', ()=> validate()) );

  // Back-to-top behaviour
  const back = document.getElementById('backToTop');
  function checkBackVisible(){
    if (!back) return;
    if (window.scrollY > 400) back.classList.add('show'); else back.classList.remove('show');
  }
  window.addEventListener('scroll', checkBackVisible, { passive: true });
  if (back) back.addEventListener('click', ()=> window.scrollTo({ top: 0, behavior: 'smooth' }));
  checkBackVisible();

})();
</script>

<!-- NEW: collapsible + FAQ behaviour (small, accessible) -->
<script>
(function(){
  // Visit & Directions toggle
  const visitToggle = document.getElementById('visitToggle');
  const visitCollapse = document.getElementById('visitCollapse');
  if (visitToggle && visitCollapse) {
    visitToggle.addEventListener('click', () => {
      const expanded = visitToggle.getAttribute('aria-expanded') === 'true';
      visitToggle.setAttribute('aria-expanded', String(!expanded));
      visitCollapse.classList.toggle('open', !expanded);
      visitCollapse.setAttribute('aria-hidden', String(expanded));
      visitToggle.querySelector('.label').textContent = expanded ? 'Show directions' : 'Hide directions';
    });
  }

  // FAQ accordion: clicking question toggles its answer
  document.querySelectorAll('.faq-question').forEach(btn => {
    const panelId = btn.getAttribute('aria-controls');
    const panel = panelId ? document.getElementById(panelId) : null;
    btn.addEventListener('click', () => {
      const expanded = btn.getAttribute('aria-expanded') === 'true';
      // Toggle this one
      btn.setAttribute('aria-expanded', String(!expanded));
      if (panel) {
        panel.classList.toggle('open', !expanded);
        panel.setAttribute('aria-hidden', String(expanded));
      }
    });
    // allow keyboard toggle via Enter/Space (button elements already handle this)
  });

})();
</script>

<script src="script.js"></script>
</body>
</html>
